# -*- Makefile -*-
### Makefile - VHDL Makefile generated by Emacs VHDL Mode 3.38.1

# Directory : "~/Scrivania/Integrated system architecture/Laboratori-ISA/Lab2/src/MBEmpyDADDA/"
# Platform  : GHDL
# Generated : 2020-12-20 10:49:54 luigi


# Define compilation command and options

COMPILE = ghdl
OPTIONS = -i --workdir=work --ieee=synopsys -fexplicit 


# Define library paths

LIBRARY-work = work


# Define library unit files

UNIT-work-beu = \
	$(LIBRARY-work)/beu/entity
UNIT-work-beu-beh = \
	$(LIBRARY-work)/beu/beh
UNIT-work-csa_tree_dadda = \
	$(LIBRARY-work)/csa_tree_dadda/entity
UNIT-work-csa_tree_dadda-dadda = \
	$(LIBRARY-work)/csa_tree_dadda/dadda
UNIT-work-fa = \
	$(LIBRARY-work)/fa/entity
UNIT-work-fa-structural = \
	$(LIBRARY-work)/fa/structural
UNIT-work-ha = \
	$(LIBRARY-work)/ha/entity
UNIT-work-ha-struct = \
	$(LIBRARY-work)/ha/struct
UNIT-work-mbe_mult_uns = \
	$(LIBRARY-work)/mbe_mult_uns/entity
UNIT-work-mbe_mult_uns-csa_tree = \
	$(LIBRARY-work)/mbe_mult_uns/csa_tree
UNIT-work-mbe_ppg = \
	$(LIBRARY-work)/mbe_ppg/entity
UNIT-work-mbe_ppg-beh = \
	$(LIBRARY-work)/mbe_ppg/beh
UNIT-work-mux3xnto1xn = \
	$(LIBRARY-work)/mux3xnto1xn/entity
UNIT-work-mux3xnto1xn-beh = \
	$(LIBRARY-work)/mux3xnto1xn/beh


# Define list of all library unit files

ALL_UNITS = \
	$(UNIT-work-beu) \
	$(UNIT-work-beu-beh) \
	$(UNIT-work-csa_tree_dadda) \
	$(UNIT-work-csa_tree_dadda-dadda) \
	$(UNIT-work-fa) \
	$(UNIT-work-fa-structural) \
	$(UNIT-work-ha) \
	$(UNIT-work-ha-struct) \
	$(UNIT-work-mbe_mult_uns) \
	$(UNIT-work-mbe_mult_uns-csa_tree) \
	$(UNIT-work-mbe_ppg) \
	$(UNIT-work-mbe_ppg-beh) \
	$(UNIT-work-mux3xnto1xn) \
	$(UNIT-work-mux3xnto1xn-beh)



# Rule for compiling entire design

all : \
		library \
		$(ALL_UNITS)


# Rule for cleaning entire design

clean : 
	-rm -f $(ALL_UNITS)


# Rule for creating library directory

library : \
		$(LIBRARY-work)

$(LIBRARY-work) :
	mkdir $(LIBRARY-work)


.PHONY : all clean library


# Rules for compiling single library units and their subhierarchy

beu \
BEU : \
		library \
		$(UNIT-work-beu) \
		$(UNIT-work-beu-beh)

csa_tree_dadda \
CSA_Tree_DADDA : \
		library \
		fa \
		ha \
		$(UNIT-work-csa_tree_dadda) \
		$(UNIT-work-csa_tree_dadda-dadda)

fa \
FA : \
		library \
		ha \
		$(UNIT-work-fa) \
		$(UNIT-work-fa-structural)

ha \
HA : \
		library \
		$(UNIT-work-ha) \
		$(UNIT-work-ha-struct)

mbe_mult_uns \
MBE_mult_uns : \
		library \
		csa_tree_dadda \
		mbe_ppg \
		$(UNIT-work-mbe_mult_uns) \
		$(UNIT-work-mbe_mult_uns-csa_tree)

mbe_ppg : \
		library \
		beu \
		mux3xnto1xn \
		$(UNIT-work-mbe_ppg) \
		$(UNIT-work-mbe_ppg-beh)

mux3xnto1xn \
MUX3XNTO1XN : \
		library \
		$(UNIT-work-mux3xnto1xn) \
		$(UNIT-work-mux3xnto1xn-beh)


# Rules for compiling single library unit files

$(UNIT-work-beu) \
$(UNIT-work-beu-beh) : \
		BEU.vhd
	$(COMPILE) $(OPTIONS) BEU.vhd

$(UNIT-work-csa_tree_dadda) \
$(UNIT-work-csa_tree_dadda-dadda) : \
		CSA_Tree_DADDA.vhd \
		$(UNIT-work-fa) \
		$(UNIT-work-ha)
	$(COMPILE) $(OPTIONS) CSA_Tree_DADDA.vhd

$(UNIT-work-fa) \
$(UNIT-work-fa-structural) : \
		FA.vhd \
		$(UNIT-work-ha)
	$(COMPILE) $(OPTIONS) FA.vhd

$(UNIT-work-ha) \
$(UNIT-work-ha-struct) : \
		HA.vhd
	$(COMPILE) $(OPTIONS) HA.vhd

$(UNIT-work-mbe_mult_uns) \
$(UNIT-work-mbe_mult_uns-csa_tree) : \
		MBE_mult_uns.vhd \
		$(UNIT-work-csa_tree_dadda) \
		$(UNIT-work-mbe_ppg)
	$(COMPILE) $(OPTIONS) MBE_mult_uns.vhd

$(UNIT-work-mbe_ppg) \
$(UNIT-work-mbe_ppg-beh) : \
		mbe_ppg.vhd \
		$(UNIT-work-beu) \
		$(UNIT-work-mux3xnto1xn)
	$(COMPILE) $(OPTIONS) mbe_ppg.vhd

$(UNIT-work-mux3xnto1xn) \
$(UNIT-work-mux3xnto1xn-beh) : \
		mux3xNto1xN.vhd
	$(COMPILE) $(OPTIONS) mux3xNto1xN.vhd


### Makefile ends here
