function [] = tablePlot(mat,matMask,headersRow,headersCol)


    h = imagesc(mat);            % Create a colored plot of the matrix values
    colormap(summer);  % Change the colormap to gray (so higher values are
                             %   black and lower values are white)

    textStrings = num2str(mat(:), '%d');             % Create strings from the matrix values
    textStrings = strtrim(cellstr(textStrings));     % Remove any space padding
    [x, y] = meshgrid([1:size(mat,2)],[1:size(mat,1)]);      % Create x and y coordinates for the strings
    hStrings = text(x(:), y(:), textStrings(:), ...  % Plot the strings
                    'HorizontalAlignment', 'center');
    midValue = mean(get(gca, 'CLim'));               % Get the middle value of the color range
    textColors = repmat(mat(:) > midValue, 1, 3);    % Choose white or black for the
                                                     %   text color of the strings so
                                                     %   they can be easily seen over
                                                     %   the background color
    %set(hStrings, {'Color'}, num2cell(textColors, 2));  % Change the text colors
    
    mask = matMask > 0;  
    
    set(h,'AlphaData',mask);

    set(gca  , 'XTick', 1:size(mat,2), ...      % Change the axes tick marks
             'XTickLabel', headersCol, ...                        %   and tick labels
             'YTick', 1:size(mat,1), ...
             'YTickLabel', headersRow, ...
             'TickLength', [0 0], 'DataAspectRatio',[2.5 2.5 1],...
             'CLim',[-1 1],'Colormap',...
    [0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.921568632125854 0.23137255012989 0.23137255012989;0.39215686917305 0.831372559070587 0.0745098069310188;0.396325469017029 0.8266481757164 0.0757449492812157;0.400494068861008 0.821923732757568 0.0769800841808319;0.404662668704987 0.817199349403381 0.0782152265310287;0.408831268548965 0.81247490644455 0.0794503688812256;0.412999838590622 0.807750523090363 0.0806855037808418;0.417168438434601 0.803026080131531 0.0819206461310387;0.42133703827858 0.798301696777344 0.0831557884812355;0.425505638122559 0.793577253818512 0.0843909233808517;0.429674237966537 0.788852870464325 0.0856260657310486;0.433842837810516 0.784128487110138 0.0868612006306648;0.438011437654495 0.779404044151306 0.0880963429808617;0.442180037498474 0.774679660797119 0.0893314853310585;0.446348637342453 0.769955217838287 0.0905666202306747;0.450517207384109 0.7652308344841 0.0918017625808716;0.454685807228088 0.760506391525269 0.0930369049310684;0.458854407072067 0.755782008171082 0.0942720398306847;0.463023006916046 0.751057624816895 0.0955071821808815;0.467191606760025 0.746333181858063 0.0967423245310783;0.471360206604004 0.741608798503876 0.0979774594306946;0.475528806447983 0.736884355545044 0.0992126017808914;0.479697406291962 0.732159972190857 0.100447744131088;0.483866006135941 0.727435529232025 0.101682879030704;0.488034576177597 0.722711145877838 0.102918021380901;0.492203176021576 0.717986702919006 0.104153156280518;0.496371775865555 0.713262319564819 0.105388298630714;0.500540375709534 0.708537936210632 0.106623440980911;0.504709005355835 0.703813493251801 0.107858575880527;0.508877575397491 0.699089109897614 0.109093718230724;0.513046145439148 0.694364666938782 0.110328860580921;0.517214775085449 0.689640283584595 0.111563995480537;0.521383345127106 0.684915840625763 0.112799137830734;0.525551974773407 0.680191457271576 0.114034280180931;0.529720544815063 0.675467073917389 0.115269415080547;0.533889174461365 0.670742630958557 0.116504557430744;0.538057744503021 0.66601824760437 0.117739699780941;0.542226374149323 0.661293804645538 0.118974834680557;0.546394944190979 0.656569421291351 0.120209977030754;0.550563514232635 0.65184497833252 0.121445119380951;0.554732143878937 0.647120594978333 0.122680254280567;0.558900713920593 0.642396152019501 0.123915396630764;0.563069343566895 0.637671768665314 0.12515053153038;0.567237913608551 0.632947385311127 0.126385673880577;0.571406543254852 0.628222942352295 0.127620816230774;0.575575113296509 0.623498558998108 0.128855958580971;0.57974374294281 0.618774116039276 0.130091100931168;0.583912312984467 0.614049732685089 0.131326228380203;0.588080883026123 0.609325289726257 0.1325613707304;0.592249512672424 0.60460090637207 0.133796513080597;0.596418082714081 0.599876463413239 0.135031655430794;0.600586712360382 0.595152080059052 0.136266797780991;0.604755282402039 0.590427696704865 0.137501925230026;0.60892391204834 0.585703253746033 0.138737067580223;0.613092482089996 0.580978870391846 0.13997220993042;0.617261111736298 0.576254427433014 0.141207352280617;0.621429681777954 0.571530044078827 0.142442494630814;0.625598251819611 0.566805601119995 0.14367763698101;0.629766881465912 0.562081217765808 0.144912764430046;0.633935451507568 0.557356834411621 0.146147906780243;0.63810408115387 0.552632391452789 0.14738304913044;0.642272651195526 0.547908008098602 0.148618191480637;0.646441280841827 0.543183565139771 0.149853333830833;0.650609850883484 0.538459181785583 0.15108847618103;0.654778480529785 0.533734738826752 0.152323603630066;0.658947050571442 0.529010355472565 0.153558745980263;0.663115620613098 0.524285912513733 0.15479388833046;0.667284250259399 0.519561529159546 0.156029030680656;0.671452820301056 0.514837145805359 0.157264173030853;0.675621449947357 0.510112702846527 0.158499300479889;0.679790019989014 0.50538831949234 0.159734442830086;0.683958649635315 0.500663876533508 0.160969585180283;0.688127219676971 0.495939493179321 0.162204727530479;0.692295849323273 0.491215080022812 0.163439869880676;0.696464419364929 0.486490666866302 0.164675012230873;0.700632989406586 0.481766253709793 0.165910139679909;0.704801619052887 0.477041840553284 0.167145282030106;0.708970189094543 0.472317427396774 0.168380424380302;0.713138818740845 0.467593014240265 0.169615566730499;0.717307388782501 0.462868630886078 0.170850709080696;0.721476018428802 0.458144217729568 0.172085851430893;0.725644588470459 0.453419804573059 0.173320978879929;0.72981321811676 0.44869539141655 0.174556121230125;0.733981788158417 0.44397097826004 0.175791263580322;0.738150358200073 0.439246565103531 0.177026405930519;0.742318987846375 0.434522151947021 0.178261548280716;0.746487557888031 0.429797738790512 0.179496675729752;0.750656187534332 0.425073325634003 0.180731818079948;0.754824757575989 0.420348942279816 0.181966960430145;0.75899338722229 0.415624529123306 0.183202102780342;0.763161957263947 0.410900115966797 0.184437245130539;0.767330586910248 0.406175702810287 0.185672387480736;0.771499156951904 0.401451289653778 0.186907514929771;0.775667726993561 0.396726876497269 0.188142657279968;0.779836356639862 0.392002463340759 0.189377799630165;0.784004926681519 0.38727805018425 0.190612941980362;0.78817355632782 0.382553666830063 0.191848084330559;0.792342126369476 0.377829253673553 0.193083211779594;0.796510756015778 0.373104840517044 0.194318354129791;0.800679326057434 0.368380427360535 0.195553496479988;0.804847955703735 0.363656014204025 0.196788638830185;0.809016525745392 0.358931601047516 0.198023781180382;0.813185095787048 0.354207187891006 0.199258923530579;0.81735372543335 0.349482774734497 0.200494050979614;0.821522295475006 0.34475839138031 0.201729193329811;0.825690925121307 0.340033978223801 0.202964335680008;0.829859495162964 0.335309565067291 0.204199478030205;0.834028124809265 0.330585151910782 0.205434620380402;0.838196694850922 0.325860738754272 0.206669762730598;0.842365324497223 0.321136325597763 0.207904890179634;0.846533894538879 0.316411912441254 0.209140032529831;0.850702464580536 0.311687499284744 0.210375174880028;0.854871094226837 0.306963115930557 0.211610317230225;0.859039664268494 0.302238702774048 0.212845459580421;0.863208293914795 0.297514289617538 0.214080587029457;0.867376863956451 0.292789876461029 0.215315729379654;0.871545493602753 0.28806546330452 0.216550871729851;0.875714063644409 0.28334105014801 0.217786014080048;0.87988269329071 0.278616636991501 0.219021156430244;0.884051263332367 0.273892223834991 0.220256298780441;0.888219833374023 0.269167840480804 0.221491426229477;0.892388463020325 0.264443427324295 0.222726568579674;0.896557033061981 0.259719014167786 0.223961710929871;0.900725662708282 0.254994601011276 0.225196853280067;0.904894232749939 0.250270187854767 0.226431995630264;0.90906286239624 0.245545774698257 0.227667137980461;0.913231432437897 0.240821376442909 0.228902265429497;0.917400062084198 0.2360969632864 0.230137407779694;0.921568632125854 0.23137255012989 0.23137255012989]);
    xtickangle(90)     
    
    %# plot grid
    [r c] = size(mat);
    xv1 = repmat((2:c)-0.5, [2 1]); xv1(end+1,:) = NaN;
    xv2 = repmat([0.5;c+0.5;NaN], [1 r-1]);
    yv1 = repmat([0.5;r+0.5;NaN], [1 c-1]);
    yv2 = repmat((2:r)-0.5, [2 1]); yv2(end+1,:) = NaN;
    line([xv1(:);xv2(:)], [yv1(:);yv2(:)], 'Color','k', 'HandleVisibility','off')


end

